<template name="sources_show_format_page">
  {{#with source}}
    <div class='stream-chain'>
      <h2>Import Definition</h2>
      <a href='https://github.com/sozialhelden/ac-machine/blob/master/docs/importing-data.md'>Read Documentation</a>
      <textarea class='code' id='streamChain'>{{stringify streamChain}}</textarea>
      <button class='btn btn-primary js-save'>Save</button>
      <button class='js-start-import btn btn-primary'>Start Import</button>
    </div>
    <div class='centered-content'>
      <div class='errors'>
      </div>
      {{#if lastSourceImport}}

        {{#with lastSourceImport}}
          <h2>{{_"Latest Import"}}</h2>
          <p>{{humanReadableStartTimestamp}} / {{_"Updated"}}: {{placesUpdatedCount}} places</p>
          {{> sources_stream_chain}}
        {{else}}
          <p class='placeholder'>{{_"Here you will see your last imports"}}</p>
        {{/with}}

        <h2>Examples for imported places</h2>
        {{#each examplePlaceInfos}}
          <div class='code-block'>
              {{stringify this}}
          </div>
        {{/each}}
      {{else}}
        <p class='placeholder'>{{_"Please insert import definition into the left side."}}</p>
      {{/if}}
    </div>
  {{/with}}
</template>
